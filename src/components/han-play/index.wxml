<word-blocks
  class="word"
  wx:for="{{ tries }}"
  wx:key="index"
  word="{{ item }}"
  revealed="{{ true }}"
/>
<block wx:if="{{ showAnswer }}">
  <view class="answer-title">{{ localized.answer }}</view>
  <word-blocks word="{{ answer.word }}" />
</block>
<word-blocks
  wx:if="{{ !isFinished }}"
  class="word {{ invalidIdiom ? 'shake' : '' }}"
  word="{{ input || '' }}"
  active="{{ true }}"
/>
<block wx:if="{{ !isFinished }}">
  <view class="input-box">
    <input
      class="input"
      value="{{ input }}"
      placeholder="{{ localized.inputPlaceholder }}"
      bind:input="onInput"
      bind:confirm="onConfirm"
    />
    <view wx:if="{{ invalidIdiom }}" class="toast"
      >{{ localized.notFound }}</view
    >
  </view>
  <button
    class="btn {{ disabled ? 'disabled' : '' }}"
    hover-class="active"
    disabled="{{ disabled }}"
    bind:tap="onConfirm"
  >
    {{ localized.confirm }}
  </button>
  <view wx:if="{{ tries.length > 4 && !isFailed }}" class="rest">
    {{ localized.left }} {{ rest }} {{ localized.chances }}
  </view>
  <view
    wx:if="{{ isFailed }}"
    class="answer"
    hover-class="answer-active"
    bind:tap="openAnswer"
  >
    {{ localized.viewAnswer }}
  </view>
  <view class="help">
    <view
      wx:if="{{ !useNoHint }}"
      class="hint"
      hover-class="hint-active"
      bind:tap="openHint"
    >
      {{ localized.hint }}
    </view>
    <view
      class="cheatsheet"
      hover-class="cheatsheet-active"
      bind:tap="openSheet"
    >
      {{ localized.cheatSheet }}
    </view>
  </view>
</block>
<block wx:else>
  <view class="result">
    {{ hintText }} Â·{{ strict ? localized.strict : '' }} {{ duration }}
  </view>
  <button
    open-type="share"
    class="btn share"
    hover-class="active"
    bind:tap="onConfirm"
  >
    {{ localized.share }}
  </button>
  <view class="mask {{ useMask ? 'masked' : '' }}" bind:tap="toggleMask">
    {{ useMask ? localized.disableMask : localized.activeMask }}
  </view>
  <view class="op-50">{{ localized.shareHint }}</view>
  <view class="divider" />
  <view class="op-50">{{ localized.countDownText }}</view>
  <view class="count-down">{{ countDown }}</view>
</block>
